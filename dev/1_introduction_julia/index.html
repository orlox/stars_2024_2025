<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Julia setup ¬∑ Stellar Structure and Evolution</title><meta name="title" content="Julia setup ¬∑ Stellar Structure and Evolution"/><meta property="og:title" content="Julia setup ¬∑ Stellar Structure and Evolution"/><meta property="twitter:title" content="Julia setup ¬∑ Stellar Structure and Evolution"/><meta name="description" content="Documentation for Stellar Structure and Evolution."/><meta property="og:description" content="Documentation for Stellar Structure and Evolution."/><meta property="twitter:description" content="Documentation for Stellar Structure and Evolution."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Stellar Structure and Evolution logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Stellar Structure and Evolution</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><span class="tocitem">Introduction (26/09/23)</span><ul><li><a class="tocitem" href="../1_introduction/">Notes</a></li><li><a class="tocitem" href="../1_introduction_problems/">Exercises</a></li><li class="is-active"><a class="tocitem" href>Julia setup</a><ul class="internal"><li><a class="tocitem" href="#Linux"><span>Linux</span></a></li><li><a class="tocitem" href="#Windows"><span>Windows</span></a></li><li><a class="tocitem" href="#Julia-Basics"><span>Julia Basics</span></a></li></ul></li><li><a class="tocitem" href="../1_introduction_computational/">Constructing an HR diagram</a></li></ul></li><li><span class="tocitem">Equations (03/10/23)</span><ul><li><a class="tocitem" href="../2_equations/">Notes</a></li><li><a class="tocitem" href="../2_equations_problems/">Exercises</a></li><li><a class="tocitem" href="../2_equations_computational/">Solving the Lane-Emden equation</a></li></ul></li><li><span class="tocitem">Energy equation and EOS (10/10/23)</span><ul><li><a class="tocitem" href="../3_eos1/">Notes</a></li><li><a class="tocitem" href="../3_eos1_problems/">Exercises</a></li></ul></li><li><span class="tocitem">Degenerate EOS (17/10/23)</span><ul><li><a class="tocitem" href="../4_eos2/">Notes</a></li><li><a class="tocitem" href="../4_eos2_problems/">Exercises</a></li></ul></li><li><span class="tocitem">Radiative energy transport (24/10/23)</span><ul><li><a class="tocitem" href="../5_radiative/">Notes</a></li><li><a class="tocitem" href="../5_radiative_problems/">Exercises</a></li></ul></li><li><span class="tocitem">Convection (31/10/23)</span><ul><li><a class="tocitem" href="../6_convection/">Notes</a></li><li><a class="tocitem" href="../6_convection_problems/">Exercises</a></li></ul></li><li><span class="tocitem">Nucleosynthesis (07/11/23)</span><ul><li><a class="tocitem" href="../7_nucleo1/">Notes</a></li><li><a class="tocitem" href="../7_nucleo1_problems/">Exercises</a></li></ul></li><li><span class="tocitem">LAB1 (14/11/2023)</span><ul><li><a class="tocitem" href="../8_instructions/">Instructions</a></li><li><a class="tocitem" href="../8_SE_codes/">Stellar evolution models</a></li><li><a class="tocitem" href="../8_questions/">Questions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Introduction (26/09/23)</a></li><li class="is-active"><a href>Julia setup</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Julia setup</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/orlox/stars_2023_2024" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/orlox/stars_2023_2024/blob/main/docs/src/1_introduction_julia.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Julia-setup"><a class="docs-heading-anchor" href="#Julia-setup">Julia setup</a><a id="Julia-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-setup" title="Permalink"></a></h1><p>This class will include computational examples that are programmed in the <a href="https://julialang.org/">julia</a> programming language. Julia is a JIT (just-in-time) language which allows to write very fast code (very close to the performance of compiled languages like C and Fortran), while still having the simplicity of an interpreted language like python. Each of the examples included in this website can be downloaded as jupyter notebooks. The instructions below explain how to run these notebooks both in Linux and Windows systems.</p><h2 id="Linux"><a class="docs-heading-anchor" href="#Linux">Linux</a><a id="Linux-1"></a><a class="docs-heading-anchor-permalink" href="#Linux" title="Permalink"></a></h2><h4 id="Download-Julia"><a class="docs-heading-anchor" href="#Download-Julia">Download Julia</a><a id="Download-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Download-Julia" title="Permalink"></a></h4><p>Get the version of julia that matches your system from the <a href="https://julialang.org/downloads/">downloads page</a>. Below instructions assume that:</p><ul><li>The version you downloaded is julia-1.9.3-linux-x86_64.tar.gz</li><li>It was downloaded to your home folder, which should be something like <code>/home/USERNAME</code>.</li></ul><p>You will need to adapt the commands below if that is not the case.</p><p>In a terminal, uncompress the file that has been downloaded by running the following commands:</p><pre><code class="language-bash hljs"># Move to the home directory
cd ~
# Uncompress the .tar.gz
tar zxvf julia-1.9.3-linux-x86_64.tar.gz</code></pre><p>This will create a folder called julia-1.9.3 in <code>/home/USERNAME</code>. You can find your executable in <code>/home/USERNAME/julia-1.9.3/bin/julia</code>.</p><h4 id="Setup-Julia"><a class="docs-heading-anchor" href="#Setup-Julia">Setup Julia</a><a id="Setup-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Setup-Julia" title="Permalink"></a></h4><p>Julia can be started by running the executable, however using the full path to it is cumbersome. We can instead create an <code>alias</code> that will let us run the executable faster. This can be done by editing (or creating if it does not exist) the <code>.bashrc</code> file, which containts a set of commands that are run at the start of each terminal session. To edit the <code>.bashrc</code> file, I am going to use the <code>nano</code> text editor, but you can use your favorite text editor.</p><pre><code class="language-bash hljs"># Open the .bashrc file
nano ~/.bashrc</code></pre><p>Copy and paste the following line at the bottom of the file:</p><pre><code class="language-bash hljs">alias julia=/home/USERNAME/julia-1.9.3/bin/julia</code></pre><p>To save changes and exit from nano, you&#39;ll have to press <code>ctrl+X</code> , then <code>Y</code> to accept to save the modified buffer and then <code>enter</code>. Now, everytime you&#39;ll open a shell, you&#39;ll be able to call Julia by simply typing in a terminal</p><pre><code class="language-bash hljs">#Open Julia
julia</code></pre><p>Try it and see the greeting message üòÅ</p><p><img src="../assets/Julia_screen.png" alt/></p><h4 id="Setup-the-Julia-notebook"><a class="docs-heading-anchor" href="#Setup-the-Julia-notebook">Setup the Julia notebook</a><a id="Setup-the-Julia-notebook-1"></a><a class="docs-heading-anchor-permalink" href="#Setup-the-Julia-notebook" title="Permalink"></a></h4><p>We want to get the Julia notebook now, to be able to execute an .ipynb file. It is also recommended to create a unique environment for each julia project you work with, this lets you install specific dependencies for different projects, avoid conflicts, and make your calculations reproducible (this is similar to conda environments in case you&#39;re familiar with those). Within Julia, type the following in your terminal:</p><pre><code class="language-bash hljs"># Open up the package manager
]
# create a local environment
activate .
# Install the Julia notebook package
add IJulia</code></pre><p>The installation of the notebook should take a few minutes. At the end, press <code>ctrl+C</code> to go out of the package manager. Within Julia, type</p><pre><code class="language-bash hljs"># Declare that you&#39;ll use the Julia notebook package
using IJulia
# Call the Julia notebook package
notebook()</code></pre><p>If you&#39;re asked to install Jupyter via Conda, accept by pressing <code>Y+enter</code>. This should get you Jupyter notebook, the web-based computing platform that will run your Julia notebooks in your favorite browser. This installation should also take a few minutes.</p><h4 id="Open-up-your-notebook"><a class="docs-heading-anchor" href="#Open-up-your-notebook">Open up your notebook</a><a id="Open-up-your-notebook-1"></a><a class="docs-heading-anchor-permalink" href="#Open-up-your-notebook" title="Permalink"></a></h4><p>Once Jupyter is launched, you should see a window popping up in your favorite browser. That window is going to show you an interactive platform that lists all your files in your <code>HOME_DIR</code>. Something like this:</p><p><img src="../assets/juppy.jpg" alt/></p><p>At this point, you just need to find the .ipynb file you downloaded into your favorite directory in the first step. Open it, and the game is done ‚úÖ</p><h2 id="Windows"><a class="docs-heading-anchor" href="#Windows">Windows</a><a id="Windows-1"></a><a class="docs-heading-anchor-permalink" href="#Windows" title="Permalink"></a></h2><h4 id="Download-Julia-2"><a class="docs-heading-anchor" href="#Download-Julia-2">Download Julia</a><a class="docs-heading-anchor-permalink" href="#Download-Julia-2" title="Permalink"></a></h4><p>Get the version of julia that matches your system from the <a href="https://julialang.org/downloads/">downloads page</a>. Below instructions assume that the version you downloaded is julia-1.9.3-win64.exe. You will need to adapt the commands below if that is not the case.</p><p>Run the installer you just downloaded, by double clicking on the executable and giving permissions to install Julia in the suggested installation directory. Be sure to check the box asking you to &quot;Add Julia to path&quot;, because it will automatically add Julia to Environment Variables of your system! See screenshot below:</p><p><img src="../assets/Win_exe_path.jpg" alt/></p><h4 id="Open-up-Julia"><a class="docs-heading-anchor" href="#Open-up-Julia">Open up Julia</a><a id="Open-up-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Open-up-Julia" title="Permalink"></a></h4><p>To open Julia we need to open a terminal, a command-line interface to communicate directly with your computer. To do so in your Windows machine, you&#39;ll need to press the shortcut <code>Windows+R</code> to launch the &quot;Run&quot; box; afterwards, type ‚Äúcmd‚Äù and then click ‚ÄúOK‚Äù to open the Command Prompt (see screenshot below).  Invoke Julia by simply typing <code>julia</code> and see the greeting message üòÅ </p><pre><code class="language-bash hljs"># Open Julia
julia</code></pre><p><img src="../assets/Julia+cmd.jpg" alt/></p><h4 id="Setup-the-Julia-notebook-2"><a class="docs-heading-anchor" href="#Setup-the-Julia-notebook-2">Setup the Julia notebook</a><a class="docs-heading-anchor-permalink" href="#Setup-the-Julia-notebook-2" title="Permalink"></a></h4><p>Once Julia is open and welcomes you, the steps to get the Julia notebook are more or less the same as you would do in Linux. Just as with linux, it is recommended to use individual environments for each project you have. Within Julia, type the following in your terminal:</p><pre><code class="language-bash hljs"># Open up the package manager
]
# create a local environment
activate .
# Install the Julia notebook package
add IJulia</code></pre><p>The installation of the notebook should take a few minutes. At the end, press <code>ctrl+C</code> to go out of the package manager. Within Julia, type</p><pre><code class="language-bash hljs"># Declare that you&#39;ll use the Julia notebook package
using IJulia
# Call the Julia notebook package
notebook()</code></pre><p>If you are asked to install Jupyter via Conda, accept by pressing <code>Y+enter</code>. This should get you Jupyter notebook, the web-based computing platform that will run your Julia notebooks in your favorite browser. This installation should also take a few minutes.</p><h4 id="Open-up-your-notebook-2"><a class="docs-heading-anchor" href="#Open-up-your-notebook-2">Open up your notebook</a><a class="docs-heading-anchor-permalink" href="#Open-up-your-notebook-2" title="Permalink"></a></h4><p>Once Jupyter is launched, you should see a window popping up in your favorite browser. That window is going to show you a file explorer. Something like this:</p><p><img src="../assets/juppy_WIN.jpg" alt/></p><p>At this point, you just need to find the .ipynb file you downloaded into your favorite directory in the first step. Open it, and the game is done ‚úÖ</p><h2 id="Julia-Basics"><a class="docs-heading-anchor" href="#Julia-Basics">Julia Basics</a><a id="Julia-Basics-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-Basics" title="Permalink"></a></h2><p>All computational examples will be shown using the <a href="https://julialang.org/"><em>julia</em></a> programming language, but the code provided can be easily translated to other languages such as python. The main benefit of julia is that it is a language that is simple to write but can still have a performance comparable to traditional compiled languages. A good overview of the language can be found in the official <a href="https://docs.julialang.org/en/v1/manual/getting-started/">manual</a>, but below we show some of the basic functionality that you will need to use.</p><p>First of all, we illustrate the basic usage of julia. A normal thing you will do at the beginning of any notebook or program is to include packages. Our life is made significantly easier by people who provide these packages! To do this, one makes use of the <code>using</code> keyword. Below we include the packages we will be using in this example.</p><pre><code class="language-julia hljs">using DataFrames     # Used to deal with tabular data
using Plots          # Provides a multitude of plotting routines
using CSV            # Efficient reading of files in &quot;comma separated values&quot; format
using LaTeXStrings   # Makes it easy to write LaTeX strings</code></pre><p>Whenever you work on a fresh environment you will find the above code fails, as the packages are not installed. As described in the error message you can correct this by running (in a different cell) <code>import Pkg; Pkg.add(&quot;DataFrames&quot;)</code>, and similarly for the other packages. Once this is done for a package, it will remain installed in your environment, and you don&#39;t need to use <code>Pkg.add</code> again (it is safe to erase the cells with that command).</p><p>The syntax of julia should be familiar to those with a python background. Assigning numerical variables and performing arithmetic operations on them is straightforward.</p><pre><code class="language-julia hljs">a = 2.0
b = pi # the definition of pi is included by default

c = a+b # addition
d = b^a # exponentiation
e = sin(b) # basic mathematical functions are also defined in the language, no need to include a package

print(&quot;c=$(c), b=$(d), c=$(e)&quot;) # $() notation is used to read the value in parenthesis into the string</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">c=5.141592653589793, b=9.869604401089358, c=0.0</code></pre><pre><code class="language-julia hljs">Œ≤=1;  # Using &#39;;&#39; at the end of a line will hide its output</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><p>You also have access to basic keywords for control flow, including <code>if</code> blocks and <code>for</code> loops. Here some small notational variations arise with respect to <code>python</code>. Blocks of code are not defined by indentation but by the use of the <code>end</code> keyword.</p><pre><code class="language-julia hljs">a = 1
b = 3

if a &lt; 2 &amp;&amp; b &lt; 2   # &amp;&amp; stands for &#39;and&#39;
    print(&quot;if was successful&quot;)
elseif a &lt; 2 || b &lt; 2   # || stands for &#39;or&#39;
    print(&quot;elseif was successful&quot;)
else
    printf(&quot;Neither if or elseif were successful&quot;)
end
print(&quot;\n&quot;) # print a line break

# Add up all digits between 1 and 10 using a for loop
sumnumbers = 0
for i in 1:10
   global sumnumbers = sumnumbers+i # global keyword is to refer to scope outside of for loop
end
print(&quot;Adding all numbers between 1 and 10 gives us $(sumnumbers)&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">elseif was successful
Adding all numbers between 1 and 10 gives us 55</code></pre><p>We can also define functions using the <code>function</code> keyword.</p><pre><code class="language-julia hljs">function add1(x)
    return x+1
end

add1(1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><p>We often deal not just with scalars but also vectors or matrices. We can define a vector covering a range of values using the <code>LinRange</code> function.</p><pre><code class="language-julia hljs">xvals = LinRange(-5.0,5.0,11) # Create a vector with elements from -5.0 to 5.0 with 11 elements.</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">11-element LinRange{Float64, Int64}:
 -5.0, -4.0, -3.0, -2.0, -1.0, 0.0, 1.0, 2.0, 3.0, 4.0, 5.0</code></pre><p>Contrary to python, arrays in julia start at position 1, so if you attempt to access <code>xvals[0]</code> you will get an error.</p><p>Beware that many operations on vectors will not work as you might naively expect. If you try computing <code>xvals^2</code>, an error will be thrown as the <code>^</code> operation is not defined between a vector and an integer. You could think that the above operation is ambiguous, do we mean that we want to take the square of each element of the vector or instead that we want to take the dot product of xvals with itself? To explicitly state that an operation is meant to be done element by element, one can use a <code>.</code> before the operation. Further information on this notation can be found <a href="https://docs.julialang.org/en/v1/manual/functions/#man-vectorized">here</a>.</p><pre><code class="language-julia hljs">xvals.^2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">11-element Vector{Float64}:
 25.0
 16.0
  9.0
  4.0
  1.0
  0.0
  1.0
  3.999999999999999
  9.0
 16.0
 25.0</code></pre><p>This can be done with any function. For instance the code below will apply our <code>add1</code> function to each element of the array.</p><pre><code class="language-julia hljs">add1.(xvals)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">11-element Vector{Float64}:
 -4.0
 -3.0
 -2.0
 -1.0
  0.0
  1.0
  2.0
  3.0
  4.0
  5.0
  6.0</code></pre><p>Finally, the <code>Plots</code> package allows us to easily make different kinds of plots. The example below shows a (sparsely) sampled plot of sine and cosine. The plot can be created by calling the <code>plot(...)</code> function, while things are added to it by calling the <code>plot!()</code> function. Using <code>!</code> as part of a function name is part of the style guide of julia to identify functions which modify their arguments. For example, the <code>sort(x)</code> function will return a copy of the vector <code>x</code> which is sorted, while <code>sort!(x)</code> will modify the vector <code>x</code> into a sorted version of itself (known as in place sorting).</p><pre><code class="language-julia hljs">yvals = sin.(xvals)
yvals2 = cos.(xvals)
# The LaTeX strings package allows us to write LaTeX without needing to escape backslashes
# (i.e., we can write L&quot;\sin(x)&quot; instead of &quot;$\\sin(x)$&quot;).
plot(xlabel=L&quot;$x$&quot;, ylabel=L&quot;$y$&quot;)
plot!(xvals, yvals, label=L&quot;$\sin(x)$&quot;)
plot!(xvals, yvals2, label=L&quot;$\cos(x)$&quot;,linestyle=:dash)</code></pre><img src="078561d2.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../1_introduction_problems/">¬´ Exercises</a><a class="docs-footer-nextpage" href="../1_introduction_computational/">Constructing an HR diagram ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Monday 13 November 2023 15:05">Monday 13 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
